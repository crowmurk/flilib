# Generated by Django 2.1 on 2018-08-15 17:50

from django.db import migrations

from core.utils import get_unique_slug

LANGUAGES = (
    {'code': 'am', 'name': 'Амхарский', },
    {'code': 'ar', 'name': 'Арабский', },
    {'code': 'az', 'name': 'Азербайджанский', },
    {'code': 'ba', 'name': 'Башкирский', },
    {'code': 'be', 'name': 'Белорусский', },
    {'code': 'bg', 'name': 'Болгарский', },
    {'code': 'bn', 'name': 'Бенгальский', },
    {'code': 'ca', 'name': 'Каталанский', },
    {'code': 'cs', 'name': 'Чешский', },
    {'code': 'cu', 'name': 'Церковнославянский', },
    {'code': 'cv', 'name': 'Чувашский', },
    {'code': 'da', 'name': 'Датский', },
    {'code': 'de', 'name': 'Немецкий', },
    {'code': 'el', 'name': 'Греческий', },
    {'code': 'en', 'name': 'Английский', },
    {'code': 'eo', 'name': 'Эсперанто', },
    {'code': 'es', 'name': 'Испанский', },
    {'code': 'et', 'name': 'Эстонский', },
    {'code': 'fi', 'name': 'Финский (Suomi)', },
    {'code': 'fr', 'name': 'Французский', },
    {'code': 'ga', 'name': 'Ирландский', },
    {'code': 'gu', 'name': 'Гуджарати', },
    {'code': 'he', 'name': 'Иврит', },
    {'code': 'hi', 'name': 'Хинди', },
    {'code': 'hr', 'name': 'Хорватский', },
    {'code': 'hu', 'name': 'Венгерский', },
    {'code': 'id', 'name': 'Индонезийский', },
    {'code': 'ie', 'name': 'Интерлингве', },
    {'code': 'io', 'name': 'Идо', },
    {'code': 'is', 'name': 'Исландский', },
    {'code': 'it', 'name': 'Итальянский', },
    {'code': 'ja', 'name': 'Японский', },
    {'code': 'ka', 'name': 'Грузинский', },
    {'code': 'kk', 'name': 'Казахский', },
    {'code': 'kn', 'name': 'Каннада', },
    {'code': 'ko', 'name': 'Корейский', },
    {'code': 'ks', 'name': 'Кашмири', },
    {'code': 'ku', 'name': 'Курдский', },
    {'code': 'ky', 'name': 'Киргизский', },
    {'code': 'la', 'name': 'Латинский', },
    {'code': 'lt', 'name': 'Литовский', },
    {'code': 'lv', 'name': 'Латышский', },
    {'code': 'mk', 'name': 'Македонский', },
    {'code': 'ml', 'name': 'Малаялам', },
    {'code': 'mr', 'name': 'Маратхи', },
    {'code': 'my', 'name': 'Бирманский', },
    {'code': 'ne', 'name': 'Непальский', },
    {'code': 'nl', 'name': 'Нидерландский', },
    {'code': 'no', 'name': 'Норвежский', },
    {'code': 'pl', 'name': 'Польский', },
    {'code': 'ps', 'name': 'Пушту', },
    {'code': 'pt', 'name': 'Португальский', },
    {'code': 'ro', 'name': 'Румынский', },
    {'code': 'ru', 'name': 'Русский', },
    {'code': 'sd', 'name': 'Синдхи', },
    {'code': 'sk', 'name': 'Словацкий', },
    {'code': 'sq', 'name': 'Албанский', },
    {'code': 'sr', 'name': 'Сербский', },
    {'code': 'sv', 'name': 'Шведский', },
    {'code': 'ta', 'name': 'Тамильский', },
    {'code': 'te', 'name': 'Телугу', },
    {'code': 'tg', 'name': 'Таджикский', },
    {'code': 'tr', 'name': 'Турецкий', },
    {'code': 'tt', 'name': 'Татарский', },
    {'code': 'ug', 'name': 'Уйгурский', },
    {'code': 'uk', 'name': 'Украинский', },
    {'code': 'ur', 'name': 'Урду', },
    {'code': 'uz', 'name': 'Узбекский', },
    {'code': 'vi', 'name': 'Вьетнамский', },
    {'code': 'zh', 'name': 'Китайский', },
)

def add_startup_data(apps, schema_editor):
    Language = apps.get_model('library', 'Language')
    for language in LANGUAGES:
        language_object = Language.objects.create(
            code=language['code'],
            name=language['name'],
        )
        language_object.slug = get_unique_slug(
            language_object,
            'slug',
            *('code', ),
            unique=True,
        )
        language_object.save()

def remove_startup_data(apps, schema_editor):
    Language = apps.get_model('library', 'Language')
    for language in LANGUAGES:
        language_object = Language.objects.get(code=language['code'])
        language_object.delete()


class Migration(migrations.Migration):

    dependencies = [
        ('library', '0001_initial'),
    ]

    operations = [
        migrations.RunPython(
            add_startup_data,
            remove_startup_data)
    ]
